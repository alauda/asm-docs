
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.4.1
  creationTimestamp: null
  name: outlierdetections.asm.alauda.io
spec:
  group: asm.alauda.io
  names:
    kind: OutlierDetection
    listKind: OutlierDetectionList
    plural: outlierdetections
    singular: outlierdetection
  scope: Namespaced
  versions:
  - name: v1alpha1
    served: true
    storage: true
    schema:
      openAPIV3Schema:
        description: OutlierDetection is the Schema for the outlierdetections API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: OutlierDetectionSpec defines the desired state of OutlierDetection
            properties:
              baseEjectionTime:
                description: 'Minimum ejection duration. A host will remain ejected
                  for a period equal to the product of minimum ejection duration and
                  the number of times the host has been ejected. This technique allows
                  the system to automatically increase the ejection period for unhealthy
                  upstream servers. format: 1h/1m/1s/1ms. MUST BE >=1ms. Default is
                  30s.'
                pattern: ([0-9]+h)?([0-9]+m)?([0-9]+s)?([0-9]+ms)?([0-9]+us)?([0-9]+µs)?([0-9]+ns)?
                type: string
              consecutiveErrors:
                description: Number of errors before a host is ejected from the connection
                  pool. Defaults to 5. When the upstream host is accessed over HTTP,
                  a 502, 503, or 504 return code qualifies as an error. When the upstream
                  host is accessed over an opaque TCP connection, connect timeouts and
                  connection error/failure events qualify as an error.
                format: int32
                type: integer
              host:
                type: string
              interval:
                description: 'Time interval between ejection sweep analysis. format:
                  1h/1m/1s/1ms. MUST BE >=1ms. Default is 10s.'
                pattern: ([0-9]+h)?([0-9]+m)?([0-9]+s)?([0-9]+ms)?([0-9]+us)?([0-9]+µs)?([0-9]+ns)?
                type: string
              maxEjectionPercent:
                description: Maximum % of hosts in the load balancing pool for the upstream
                  service that can be ejected. Defaults to 10%.
                format: int32
                type: integer
            type: object
          status:
            description: OutlierDetectionStatus defines the observed state of OutlierDetection
            type: object
        type: object
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
