---
weight: 20
sourceSHA: 2d83ff26103f8bf1105a4c422dd64df78594284403666c2a1b5c1c92098760af
---

# Введение

## Маршрутизация сервисов

Маршрутизация сервисов обеспечивает гранулярное управление трафиком между сервисами с помощью правил и политик на основе Istio. Эта функциональность:

- Управляет потоком запросов между микросервисами
- Поддерживает канареечное тестирование и поэтапные развертывания
- Реализует механизмы восстановления после сбоев
- Обеспечивает непринужденные возможности тестирования

Основная ценность: Точное управление трафиком для архитектур микросервисов

## Преимущества

- **Поддержка протоколов**: HTTP/HTTP2/gRPC и TCP
- **Условная маршрутизация**: Соответствие по заголовкам/URI/источнику
- **Расширенные политики**: 5-уровневая манипуляция трафиком
- **Кросс-кластер**: Нативное управление несколькими кластерами

## Сценарии

- **Поэтапные развертывания**
  Направьте 5% трафика на новую версию для проверки

- **Сегментация пользователей**
  Направьте премиум-пользователей на высокопроизводительные экземпляры

- **Тестирование на сбои**
  Внедряйте 500 ошибок на 10% производственного трафика

- **Оптимизация производительности**
  Отражайте трафик на тестовую среду для нагрузочного тестирования

- **Гео-маршрутизация**
  Маршрут запросов на основе тегов региона клиента

## Ограничения

- Требуется включенное кросс-кластерное обнаружение
- Не совместимо с активными канареечными версиями
- TCP маршрутизация не поддерживает расширенные политики
- Максимум 100 повторных попыток на запрос
