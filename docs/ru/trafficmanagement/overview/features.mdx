---
weight: 20
sourceSHA: ce49283f86fc8228db3d6acc1a8a3479ad70bafc31649b9c81db5c5d264b89b6
---

# Функции

## Архитектура управления трафиком

- **Двухслойный дизайн шлюза (Tier1 + Tier2)**\
  Реализует шлюз Tier1 для управления маршрутизацией внешнего трафика и прозрачный прокси Tier2 для выполнения правил маршрутизации на уровне сервиса, разрешая конфликты маршрутизации между шлюзом и уровнями сервисов, при этом сохраняя согласованность политики.

- **Поддержка протоколов**\
  Поддерживаются протоколы HTTP/1.1, HTTP/2, gRPC и WebSocket для внешнего взаимодействия с сервисами, что позволяет адаптироваться к различным требованиям современных приложений для коммуникации.

- **Динамическая маршрутизация**\
  Поддерживает маршрутизацию трафика на основе веса и заголовков для A/B тестирования и канареечных развертываний.

- **Отражение трафика**\
  Реплицирует производственный трафик в стейджинговые среды для безопасного тестирования без влияния на живых пользователей.

- **Повтор запросов**\
  Настраивает автоматические повторы для неудавшихся запросов с настраиваемыми условиями повторов и политиками увеличения времени ожидания.

## Безопасность и контроль доступа

- **Окончание TLS**\
  Обеспечивает управление сертификатами SSL/TLS, поддерживая зашифрованный доступ HTTPS и автоматическую ротацию сертификатов для трафика с севера на юг.

- **Управление трафиком между кластерами**\
  Обеспечивает единое управление трафиком внешнего доступа через группы экземпляров шлюзов, поддерживая централизованную конфигурацию сертификатов и политик маршрутизации.

## Интеграция управления сервисами

- **Поддержка канареечного развертывания**\
  Реализует стратегии канареечного развертывания на уровне сервиса через прокси Tier2, позволяя правилам серого трафика, сконфигурированным для бэкенд-сервисов, вступать в силу на трафике входного шлюза.

- **Синхронизация маршрутизационной политики**\
  Автоматически синхронизирует правила маршрутизации сервиса (повтор времени ожидания, отражение трафика и т. д.) с трафиком шлюза через двухслойную архитектуру, сохраняя согласованность политики.

## Устойчивость и обработка ошибок

- **Размыкание цепи**\
  Автоматически блокирует запросы к перегруженным сервисам на основе пороговых значений ошибок и метрик задержки.

- **Инъекционные ошибки**\
  Симулирует сбои сервисов (ошибки HTTP, задержки), чтобы проверить устойчивость системы к ошибкам и рабочие процессы восстановления.

- **Контроль времени ожидания**\
  Устанавливает пороговые значения времени ожидания на уровне сервиса для предотвращения каскадных сбоев и повышения отзывчивости системы.

## Наблюдаемость и мониторинг

- **Мониторинг в реальном времени**\
  Обеспечивает мониторинг QPS, процента успешных запросов, задержки и других ключевых метрик для экземпляров шлюзов, поддерживая настраиваемые панели мониторинга и политики оповещения.

- **Анализ логов доступа**\
  Записывает полные логи HTTP-запросов, включая исходный IP, метод запроса, код ответа и задержку, поддерживает запрос логов и анализ трафика.

## Гибкость развертывания

- **Кросс-облачное развертывание**\
  Поддерживает развертывание экземпляров шлюзов на нескольких облачных платформах (AWS, Azure, частное облако), достигая единого управления трафиком гибридного облака через группы экземпляров.

- **Горизонтальное масштабирование**\
  Позволяет динамически масштабировать экземпляры шлюзов в зависимости от нагрузки трафика, поддерживая как ручное масштабирование, так и автоматические стратегии масштабирования на основе HPA.
