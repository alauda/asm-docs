---
weight: 10
sourceSHA: f6f86433c5a155577b09286a06fb83fe04f603d9ad8e56062e0bb1cf138c88ee
---

# Введение

## Введение в канарейку

Модуль Канарейка позволяет контролировать развертывание обновлений услуг через постепенное перераспределение трафика и мониторинг в реальном времени. Он разработан для интеграции в среды Kubernetes с Istio и поддерживает:

- Снижение рисков для развертываний в производственной среде
- Многофазные стратегии релиза (канарейка/синий-зеленый/A/B тестирование)
- Автоматическое откат при обнаружении ошибок
- Унифицированное наблюдение на протяжении жизненного цикла релиза

## Преимущества

- **Гибкий контроль трафика**  
  Поддержка ручного и автоматического разделения трафика с дискретностью 1%

- **Метрики в реальном времени**  
  Предоставляет данные о проценте успешных запросов, задержке и отслеживании RPS во время релиза

- **Интеграция GitOps**  
  Совместимость с развертываниями, управляемыми Git, через конфигурации CRD

- **Визуальный конвейер**  
  Отображает процесс релиза через интуитивные метрики на панели управления

## Сценарии

- **Развертывание низкорисковых версий**  
  Постепенно перераспределяйте 5-20% трафика на новую версию, при этом следя за ошибками

- **Тестирование флагов функций**  
  Направляйте конкретные группы пользователей через HTTP заголовки (например, бета-тестеры)

- **Проверка производительности**  
  Сравните время отклика между версиями при реальном трафике

- **Аварийный откат**  
  Автоматически возвращайтесь к стабильной версии, когда процент ошибок превышает порог

## Ограничения

- Несовместимость с существующими конфигурациями маршрутизации сервисов
- Требуется уникальное именование сервисов в разных кластерах
- Сервисы, управляемые GitOps, имеют ограниченные управления интерфейсом
- Политики безопасности остаются активными во время релиза
