---
weight: 25
title: Включение глобального ограничения частоты
sourceSHA: a4669ecfbcce8527196298bcec9b568deb01ec4ee9313ec82f244858f8d55dab
---

Если вам необходимо использовать функцию глобального ограничения частоты, необходимо активировать глобальное ограничение частоты сервиса, подключившись к Redis.

Вы можете подключиться к Redis, предоставляемому платформой Data Services, или подключиться к своему собственному Redis.

## Подключение к Redis, предоставляемому платформой

Если ваша компания подписалась на **Data Services** и развернула Redis (Режим кластера, Режим Sentinel) через Data Services, к которому можно подключиться к управляемому кластеру, вы можете обратиться к следующим шагам и инструкциям, чтобы получить и настроить **Конфигурацию Redis** для измерения сервисной сети.

**Получение метода доступа к Redis**

1. Переключитесь на платформу Data Services и выберите **Redis** в левом боковом меню.

2. В списке кластеров слева выберите ***кластер, пространство имен***, где развернут Redis.

3. Нажмите на ***Имя Redis***.

   - На вкладке **Подробности** проверьте **Справочник секретов**, чтобы получить пароль для доступа к Redis.

   - На вкладке **Метод доступа** вы можете просмотреть информацию о конфигурации, необходимую для подключения к Redis.

**Инструкции по конфигурации Redis**

В зависимости от **Режима развертывания** и **Местоположения развертывания** Redis, обратитесь к следующим инструкциям, чтобы настроить **Конфигурацию Redis** для измерения сервисной сети.

**Примечание**:

- **Метод аутентификации**: Если к Redis, к которому вы подключаетесь, установлен пароль, выберите **Basic Auth** и введите пароль.

- **Список адресов**: Введите несколько адресов, чтобы повысить доступность адреса доступа, разделяя их запятыми.

- **Метод подключения**: **Один кластер** означает, что Redis развернут на кластере, к которому необходимо подключиться в сети; **Перекрестный кластер** означает, что кластер, в котором развернут Redis, не является тем же кластером, к которому необходимо подключиться в сети.

| Режим развертывания Redis | Метод подключения     | Конфигурация сети для Redis                                                                                                                                                                                                                                                        |
|---------------------------|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Режим Sentinel**        | **Один кластер**      | **Режим развертывания**: Режим кластер-Sentinel.<br>**MasterName**: Необходимо ввести `mymaster`.<br>**Список адресов**: Введите **Внутренний доступ** область отображения **Адрес подключения** (`<внутреннее имя маршрутизации>.<имя пространства имен Redis>:<порт>` или `<внутренний IP>:<порт>`). |
| **Режим Sentinel**        | **Перекрестный кластер** | **Режим развертывания**: Режим кластер-Sentinel.<br>**MasterName**: Необходимо ввести `mymaster`.<br>**Список адресов**: Введите **Внешний доступ** область отображения **Адрес подключения** (`<Pod IP>:<порт>`).                                                                                  |
| **Режим кластера**       | **Один кластер**      | **Режим развертывания**: Режим кластер-Кластер.<br>**Список адресов**: Введите **Внутренний доступ** область отображения **Адрес подключения** (`<внутреннее имя маршрутизации шардов>.<имя пространства имен Redis>:<порт>`).                                                                        |
| **Режим кластера**       | **Перекрестный кластер** | **Режим развертывания**: Режим кластер-Кластер.<br>**Список адресов**: Введите **Внешний доступ - через NodePort узла Pod** область отображения 1 или более Pods, содержащих Nodeport от шардов (`<Pod IP>:<порт>`).                                                                        |

## Подключение к неверным Redis

Пожалуйста, обратитесь к следующими инструкциям по конфигурации для подключения к неверным Redis. 

| Параметр                  | Описание                                                                                                                                                                                                                                                                                                                                                              |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Режим развертывания**   | **Один узел**: Redis, развернутый на одном узле, не имеющем возможности восстановления после сбоя, и не рекомендуется для производственных сред.<br>**Режим кластер-Sentinel**: Обратитесь к [официальной документации](https://redis.io/docs/manual/sentinel/).<br>**Режим кластер-Кластер**: Обратитесь к [официальной документации](https://redis.io/docs/manual/scaling/). |
| **Адрес / Список адресов**| Адрес доступа к Redis, поддерживающий адреса протокола HTTP/HTTPS, в формате: `<протокол (опционально)>://<IP/домен>:<порт>`.<br>**Совет**: Введите несколько адресов для повышения доступности адреса доступа, разделяя их запятыми.                                                                                                                       |
| **MasterName**            | Требуется только в режиме Sentinel, это имя главного узла.                                                                                                                                                                                                                                                                                                         |
| **Метод аутентификации**  | Метод аутентификации при доступе к Redis.<br>- **Basic Auth**: Введите пароль для доступа к Redis.<br>- **Без аутентификации**: Аутентификация не требуется при доступе.                                                                                                                                                                                        |
