---
weight: 30
sourceSHA: 9c0763f75d97f17c18db7fb3075dce75f317770b418cb5602ab60b7b0ce0e0f4
---

# Импорт API для микросервисов Istio

Этот документ предназначен для того, чтобы помочь вам быстро объявить API для микросервисов, чтобы более эффективно контролировать и управлять вашими API.

## Выбор сервиса

В левом навигационном баре нажмите **Список сервисов** и введите название сервиса, для которого вы хотите объявить API.

## Объявление API сервиса

Перейдите на вкладку **API**.

Существует два способа объявить API сервиса:

- **Пакетный импорт API** - Объявите API сервиса, импортировав файл описания API, который соответствует спецификации Swagger.
- **Ручной импорт API** - Когда необходимо добавить несколько API в список API, вы можете вручную добавить API сервиса на платформе.

### Пакетный импорт API

Пакетный импорт API осуществляется путем загрузки файла описания API, поддерживающего спецификацию Swagger (`.yaml` или `.json` файлы), или путем ввода URL документа API, который соответствует спецификации OpenAPI 3.0.

**Примечание**:

- При пакетном импорте API существующие API в списке API, установленные через пакетный импорт на **Порт сервиса**, будут сначала очищены. Если вы хотите сохранить существующие API, вручную импортируйте только новые необходимые API.
- Размер загружаемого файла описания API не должен превышать 5 МБ; количество API, импортированных пакетно, не должно превышать 2000.

**Объяснение параметров**

Смотрите следующие объяснения для конфигурации связанных параметров.

| Параметр        | Описание                                                                                                                                                                                                                                                            |
| ---------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Порт сервиса** | Порт, на котором сервис принимает запросы API. Этот порт является внутренним маршрутом сервиса, открывающим номер порта связанного развертывания в кластере.<br />Когда существует несколько портов сервиса, по умолчанию используется первый порт сервиса.                                         |
| **Импорт файла**  | Пакетный импорт API, содержащих загруженный файл, загрузив файл, который поддерживает спецификацию Swagger (`.yaml` или `.json` файлы`) из локального хранилища.                                                                                                             |
| **Автоматическая загрузка**    | Пакетный импорт API, содержащих документ, введя URL онлайн-документа API, который соответствует спецификации OpenAPI 3.0. Например: `http://<domain>:<port>/v3/example/api-docs`.                                                                          |

### Ручной импорт API

**Объяснение параметров**

Смотрите следующие объяснения для конфигурации связанных параметров.

| Параметр        | Описание                                                                                                                                                                                                                                                                                                                                                                           |
| ---------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Порт сервиса** | Порт, на котором сервис принимает запросы API. Этот порт является внутренним маршрутом сервиса, открывающим номер порта связанного развертывания в кластере.<br />Когда существует несколько портов сервиса, по умолчанию используется первый порт сервиса.                                                                                                                |
| **API**          | **Путь запроса API**: Введите путь запроса в соответствии с выбранным методом соответствия.<br />Точное соответствие: Например, `/path` будет точно соответствовать данными запроса API;<br />Соответствие по регулярному выражению: Например, `/path/{param}/path`, где `{param}` - это переменная в API.<br /><br />**Метод запроса API**: Одно выбор, поддерживает GET, PUT, POST, DELETE, PATCH, HEAD, OPTIONS. |

## Результаты и проверка

Независимо от того, используете ли вы **Пакетный импорт** или **Ручной импорт**, после успешного объявления вы сможете увидеть объявленные API в списке API ниже.
