---
weight: 10
sourceSHA: b05c35de3a2097fac93d51d3f7775549b99a292b6d51d61f797ae44cc3cdd380
---

# Основные концепции

## Envoy Proxy

Envoy — это высокопроизводительный, открытый прокси на границе и сервисный прокси, разработанный для облачно-ориентированных приложений. В рамках сервисной сетки Istio прокси Envoy формируют уровень передачи данных, который обрабатывает все коммуникации между сервисами. Каждое рабочее приложение в сетке развертывается с прокси Envoy как боковым сервисом, который регулирует входящий и исходящий трафик, выполняя такие критически важные функции, как:

- Маршрутизация трафика и балансировка нагрузки
- Обнаружение сервисов
- Завершение TLS
- Проверка работоспособности
- Расширенные функции, такие как разрыв цепи и повторные попытки

Динамическая конфигурационная способность Envoy позволяет контрольному уровню Istio (istiod) отправлять обновления прокси без перезапуска рабочих приложений. Эта архитектура позволяет Istio реализовывать функции сервисной сетки, сохраняя высокую производительность.

**Пример рабочего процесса конфигурации**:

1. Istiod генерирует конфигурации Envoy на основе сервисов Kubernetes и настраиваемых ресурсов Istio
2. Прокси Envoy получают конфигурации через API xDS
3. Прокси динамически применяют новые конфигурации для управления политиками трафика

## Ресурс EnvoyFilter

Ресурс API `EnvoyFilter` предоставляет детальный контроль над конфигурациями прокси Envoy в Istio. Он позволяет опытным пользователям изменять низкоуровневые настройки Envoy, которые не доступны через стандартные API Istio.

**Ключевые характеристики**

| Особенность               | Описание                                                      |
| ------------------------- | ------------------------------------------------------------- |
| **Целевое назначение рабочей нагрузки** | Применяется к конкретным рабочим нагрузкам с использованием селекторов меток |
| **Аддитивные изменения**  | Модификации накладываются на конфигурации, сгенерированные Istio |
| **Чувствительность к версиям** | Привязана к конкретным версиям прокси Envoy, используемым Istio |
| **Порядок выполнения**    | Применяется в порядке временной метки в иерархии конфигурации |
