---
weight: 10
sourceSHA: 5388679604a5f95d679d3ae1b0ceae3b66fcb6570aa9d70d932c24a127abd1c7
---

# Создание EnvoyFilter

EnvoyFilter предоставляет механизм для настройки конфигурации Envoy, которая генерируется Istio Pilot. Создавая EnvoyFilter на платформе и связывая его с сервисами в кластере, вы можете распределять пользовательские возможности для сервисов под сервисной сеткой с помощью EnvoyFilter.

:::danger Уведомление о снятии с поддержки

**Почему снятие с поддержки?**

EnvoyFilter является функцией с высоким риском, которая может повлиять на бизнес-операции. Из-за его тесной связи с базовым API Envoy невозможно гарантировать обратную совместимость. Кроме того, патчи EnvoyFilter очень чувствительны к формату конфигурации Envoy, генерируемому Istio. Любые изменения в конфигурации Istio могут привести к сбоям в приложениях, использующих EnvoyFilter. Поэтому продукт будет снят с поддержки функции EnvoyFilter в следующих версиях.

**Стратегия поддержки продукта**

Цель снятия с поддержки EnvoyFilter заключается в том, чтобы предотвратить независимое написание и поддержку EnvoyFilters клиентами, тем самым снизив риск проблем с совместимостью. Если у клиентов есть требования, которые можно решить с помощью EnvoyFilter, они должны обратиться в команду разработки продукта. Команда разработки предоставит необходимые решения и обеспечит решение любых проблем с совместимостью с EnvoyFilter.

:::

## Процедура

При создании EnvoyFilter вы можете добавлять ресурсы EnvoyFilter для различных совместимых версий Istio, поддерживаемых сервисной сеткой в текущем проекте, чтобы один EnvoyFilter мог быть совместим с несколькими версиями Istio.

1. В левой панели навигации нажмите **Сервисная сеть** > **EnvoyFilter**.

2. (Необязательно) Нажмите **Сервисная сеть** в верхней панели навигации для переключения.

3. Нажмите на **Создать EnvoyFilter**.

4. Ознакомьтесь с приведенными ниже инструкциями, чтобы настроить соответствующие параметры.

| Параметр                     | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Кластер кластеров**       | Кластер, управляемый сервисной сеткой, где успешно созданный EnvoyFilter может распределять возможности только для сервисов, работающих в выбранном кластере.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Информация о конфигурации** | Структурная информация о EnvoyFilter, поддерживаемом адаптационной платформой для версии Istio. Структура EnvoyFilter может различаться в зависимости от версий Istio. Пожалуйста, ознакомьтесь с [официальной документацией](https://istio.io/latest/docs/reference/config/networking/envoy-filter/) для написания. <br />**Примечание**: При обновлении версии Istio сервисной сети, чтобы избежать влияния на нормальные бизнес-операции, пожалуйста, создайте EnvoyFilter, совместимый с более поздней версией Istio, до обновления. После обновления сервис автоматически свяжется с EnvoyFilter, совместимым с обновленной версией. |

8. После подтверждения правильности информации нажмите **Создать**.

## Что дальше

После успешного создания EnvoyFilter возможности этого EnvoyFilter могут быть распределены для сервисов в сервисной сетке, связывая [сервис](./bind_a_service.mdx).
