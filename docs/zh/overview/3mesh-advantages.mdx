---
title: 应用场景
description: 介绍服务网格产品可以满足的商业场景。
weight: 4
sourceSHA: c37b0ac87d405b9d2f9ac2ea08305b1b04c86b61a1c23af47178b0782bd9b1db
---

## 构建分布式微服务系统

### 场景描述

在企业应用向容器化和微服务过渡的过程中，形成了一种大型复杂的分布式微服务架构。需要一个系统来管理和操作这些服务，帮助开发者解决服务发现、负载均衡、故障恢复、指标收集和监控、灰度发布、流量控制、访问控制、端到端身份验证等挑战。

### 解决方案

Istio 提供了全面的微服务解决方案，满足微服务应用的多样化需求，为整个服务网格提供行为洞察和操作控制。针对 Istio 的高度实用性实现，企业用户只需将其服务连接到平台，该平台便可为企业应用和服务提供全面的治理能力，而无需进行干预。其功能涵盖服务的全球可视化、服务发布管理、可靠的服务连接治理、服务网格生命周期管理、服务错误故障排除和服务安全治理场景。

## 服务全球可视化

### 场景描述

在复杂的微服务应用场景中，面对大量的服务和复杂的服务间调用关系，开发者需要实时监控服务的整体运行，理解组件之间的通信。当业务出现故障或性能问题时，能够快速定位问题的具体位置，提高运营效率并降低业务运营风险。

### 解决方案

该平台将 Istio 与 [OpenTelemetry Java Agent](https://github.com/open-telemetry/opentelemetry-java-instrumentation) 和 [Jaeger](https://www.jaegertracing.io/docs/1.42/) 集成，提供全面的可观察性能力。

- 以非侵入性的方式收集监控数据，让开发者专注于业务开发，而不必担心如何获取监控数据。

- 用可视化图表展示服务调用拓扑和流量监控数据，支持调用链数据查询。

- 通过表单快速配置和管理服务流量治理策略、路由规则和安全策略。

## 服务发布管理

### 场景描述

在微服务应用的快速迭代和优化过程中，若新版本直接发布给所有用户，遭遇在线事件（例如，由于大规模流量变化引起的故障、崩溃等）而无法快速解决问题，会显著影响用户体验。

在微服务系统中发布新版本的应用时，必须尽量减少对业务的影响，同时帮助开发者验证新版本的功能、性能和用户满意度。

### 解决方案

该平台基于 Istio 的路由能力和开源的 Flagger 组件实现了灰度发布功能。在服务的新版本发布过程中，一些用户可以继续使用旧版本，而其他用户则使用新版本。如果新版本稳定，且用户对此没有异议，可以逐渐增加新版本的流量比例，直到所有用户迁移到新版本。

在灰度发布过程中，可以及时发现问题，修复缺陷，并实时监控流量行为。对于发布过程中的异常情况，可以实施自动回滚，以最小化影响。

## 流量错误故障排除

### 场景描述

在大规模微服务系统中，服务间调用关系复杂。一旦某个服务发生故障且问题持续较长时间，可能会级联影响其他服务，导致系统崩溃。

因此，对于微服务系统的开发者和运维人员来说，实时观察服务健康状态以防止潜在风险，并利用详细的监控数据快速排查故障，在遇到业务失败时至关重要。

### 解决方案

该平台构建了完整的服务问题故障排除路径。当用户的服务遭遇故障时，能够通过追踪异常流量定位故障位置，缩小故障排查范围，并通过结合日志和监控数据快速分析特定原因，解决问题。

- 提供链接拓扑图、流量监控面板、调用链和日志，以提供完整的错误故障排除路径。

- 允许通过流量监控面板查看服务、Pods 和 API 层级的流量数据。

## 可靠的服务连接治理

### 场景描述

在微服务架构中，一个应用由多个服务组成，每个服务执行单一业务功能。服务之间的数据交互通过远程调用完成。这带来了一个问题：当服务 A 调用服务 B，而服务 B 再调用其他服务时，如果其他服务的响应时间过长或不可用，对服务 A 的调用将占用越来越多的资源，从而导致系统崩溃，这被称为 **雪崩效应**。

### 解决方案

为避免微服务系统中的雪崩效应，该平台支持为服务配置流量治理策略和路由规则，使其能够制定保护机制和故障模拟，确保服务连接的可靠性，提升微服务系统的整体稳定性。

- 支持负载均衡策略、断路器和连接池设置。

- 支持基于路由的错误注入、延迟响应、超时和重试、请求重写、流量镜像等功能。

## 安全的服务连接治理

### 场景描述

在将单体应用拆分为服务后，开发效率、系统稳定性和运营效率得到了提升。服务间的调用由本地调用变为网络协议接口调用，这带来了安全风险。因此，在微服务治理平台中，对服务间调用进行流量加密和授权配置，并提供验证和审计功能是必要的。

### 解决方案

- 该平台对服务间流量提供流量加密。可以通过为服务设置安全策略来使用 mTLS 对流量进行加密。

- 通过为服务设置黑名单或白名单，实现同一网格内服务之间的访问控制。

## 服务网格生命周期管理

### 场景描述

一个完整的服务网格不仅包含 Istio 组件，还包括集成的扩展组件。在多集群环境中，服务网格的管理变得尤其复杂。在服务网格的生命周期中，不仅涉及服务网格的部署、更新和删除，更重要的是监控服务网格的健康状态，以便运维人员及时发现异常，排查故障，确保业务的持续和稳定支持。

### 解决方案

为服务网格提供全面的生命周期管理功能，包括服务网格的部署、更新、删除和健康监测。

- 服务网格管理：服务网格核心和扩展组件的部署、更新和删除。

- 组件健康检查：对核心和扩展组件进行健康检查。

- 功能健康检查：对主要功能进行健康检查，包括与内置功能相关的检查项目。

- 监控：与 Prometheus 和 Grafana 集成，提供默认仪表盘、监控组件和业务信息。
