---
weight: 10
sourceSHA: 36b68f122fd7f42cfe2d485097ac3531ef3310fe1ee58f9c020f5b78969cf29b
---

# 简介

互相传输层安全协议（mTLS）是一种允许两个参与方相互认证的协议。它是某些协议（IKE，SSH）的默认认证模式，而在其他协议（TLS）中则是可选的。您可以在不更改应用程序或服务代码的情况下使用 mTLS。TLS完全由服务网格基础设施处理，并在两个边车代理之间进行处理。

默认情况下，mTLS 在服务网格中是启用的，并设置为宽松模式。在此模式下，服务网格中的边车可以接收明文流量和使用 mTLS 加密的连接。如果服务网格中的服务被配置为与网格外的服务使用严格的 mTLS 进行通信，则通信可能会受到干扰，因为严格的 mTLS 需要客户端和服务器之间的相互认证。在将工作负载迁移到服务网格时，请使用宽松模式。然后，您可以在网格、命名空间或应用程序之间启用严格的 mTLS。

## <span id="anquan">创建安全策略</span>

### 步骤

1. 在左侧导航栏中，点击 **服务列表**。

2. 点击您要为其创建安全规则的 ***服务名称***。

3. 在 **策略** 标签下，点击集群右侧的 **创建政策** > **安全**。

4. 在 **规则** 部分，选择 **宽松模式** 或 **严格模式**。

   - **宽松模式**：允许服务同时接受明文流量和相互 TLS 流量。

   - **严格模式**：只允许服务接受相互 TLS 流量。服务将只处理通过边车加密的流量，未加密的流量将被拒绝。

   **注意**：启用 **宽松模式** 允许服务同时接受明文和相互 TLS 流量，从而极大地提高了采用相互 TLS 的便利性。

   例如：当运维人员希望将服务迁移到启用相互 TLS 的 Istio 时，与非 Istio 客户端和服务器之间的通信可能会出现许多问题。通常，运维人员无法同时在所有客户端上安装 Istio 边车，也没有相应的权限。即使在服务器上安装了 Istio 边车，也无法在不干扰现有连接的情况下启用相互 TLS。

   **宽松模式** 灵活地解决了这一场景。安装在服务中的 Istio 边车立即接受相互 TLS 流量，而不会干扰现有的明文流量。因此，运维人员可以逐步安装和配置客户端 Istio 边车以发送相互 TLS 流量。一旦客户端配置完成，服务器就可以配置为 **严格模式**（仅 TLS 模式）。

5. 点击 **创建**。
   创建安全策略时，系统将自动创建客户端规则并默认启用 TLS。
