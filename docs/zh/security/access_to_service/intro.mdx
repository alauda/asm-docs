---
weight: 10
sourceSHA: a3829890ce7571fa7186ab476c8bae995335cc63774e399a906fff9ac67ab222
---

# 介绍

您可以设置黑名单或白名单以允许或拒绝对服务的访问。

例如，通过为核心服务设置黑名单或白名单，您可以确保只有信任的服务能够调用这些服务，从而降低数据泄露或恶意攻击的风险。

- **白名单**：允许来自白名单规则中指定的任何下游服务的调用；否则调用将被拒绝。

- **黑名单**：拒绝来自黑名单规则中指定的任何下游服务的调用；否则调用将被允许。

**注意**：

- 服务级别的黑名单和白名单仅控制服务网格内服务之间的访问权限，不影响外部服务对网格内服务的调用。

- 当服务 A 调用服务 B 时，意味着 A 依赖于 B。我们称 A 为 B 的下游服务，B 为 A 的上游服务。

## 设置规则状态

规则状态（启用/禁用）开关可以统一控制服务下的黑名单和白名单规则是否有效，包括设置开关状态后新增的规则。

- 开关开启：服务下的所有黑名单和白名单规则将生效。

- 开关关闭：服务下的所有黑名单和白名单规则将不生效，默认情况下，网格内的所有服务都被允许访问当前服务。

### 步骤

1. 在左侧导航栏中，点击 **服务列表**。

2. 点击您想要设置黑名单和白名单规则的 ***服务名称***。

3. 在 **黑名单/白名单** 标签下，点击 **设置规则状态**。

4. 选择 **启用/禁用**。

## 添加白名单

您可以为尚未设置任何规则或已设置白名单规则的服务添加白名单规则。一旦规则启用，只有在白名单规则中指定的下游服务可以调用该服务。

**注意**：添加白名单后，请确保规则状态开关已开启，以使白名单生效。

### 步骤

1. 在左侧导航栏中，点击 **服务列表**。

2. 点击您想要设置黑名单和白名单规则的 ***服务名称***。

3. 在 **黑名单/白名单** 标签下，点击 **添加白名单**。

4. 添加（选择、输入）一个或多个下游服务以添加到白名单中。

   **下游服务**：在当前服务网格管理的命名空间下依赖于当前服务的服务。
   **注意**：您可以输入不在当前项目/命名空间中的服务，但它们属于当前服务网格。

5. 点击 **确认**。

## 添加黑名单

您可以为尚未设置任何规则或已设置黑名单规则的服务添加黑名单规则。一旦规则启用，黑名单规则中指定的下游服务将被拒绝访问该服务。

**注意**：添加黑名单后，请确保规则状态开关已开启，以使黑名单生效。

### 步骤

1. 在左侧导航栏中，点击 **服务列表**。

2. 点击您想要设置黑名单和白名单规则的 ***服务名称***。

3. 在 **黑名单/白名单** 标签下，点击 **添加黑名单**。

4. 添加（选择、输入）一个或多个下游服务以添加到黑名单中。

   **下游服务**：在当前服务网格管理的命名空间下依赖于当前服务的服务。
   **注意**：您可以输入不在当前项目/命名空间中的服务，但它们属于当前服务网格。

5. 点击 **确认**。
