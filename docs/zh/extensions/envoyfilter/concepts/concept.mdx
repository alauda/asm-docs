---
weight: 10
sourceSHA: b05c35de3a2097fac93d51d3f7775549b99a292b6d51d61f797ae44cc3cdd380
---

# 核心概念

## Envoy 代理

Envoy 是一个高性能的开源边缘代理和服务代理，专为云原生应用设计。在 Istio 服务网格中，Envoy 代理构成了处理所有服务之间通信的数据平面。每个工作负载都与一个侧车 Envoy 代理一起部署，负责调解进出流量，实施关键功能，如：

- 流量路由和负载均衡
- 服务发现
- TLS 终止
- 健康检查
- 先进特性，如断路器和重试

Envoy 的动态配置能力使 Istio 的控制平面（istiod）能够在不重启工作负载的情况下向代理推送更新。这种架构使 Istio 能够实施服务网格特性，同时保持高性能。

**示例配置流程**：

1. Istiod 根据 Kubernetes 服务和 Istio 自定义资源生成 Envoy 配置
2. Envoy 代理通过 xDS API 获取配置
3. 代理动态应用新配置以处理流量策略

## EnvoyFilter 资源

`EnvoyFilter` API 资源提供了对 Istio 中 Envoy 代理配置的细粒度控制。它使高级用户能够修改通过标准 Istio API 未公开的低级 Envoy 设置。

**主要特性**

| 特性                    | 描述                                                         |
| ----------------------- | ----------------------------------------------------------- |
| **工作负载选择**       | 使用标签选择器应用于特定工作负载                           |
| **附加更改**           | 修改会叠加在 Istio 生成的配置之上                           |
| **版本敏感性**         | 与 Istio 使用的特定 Envoy 代理版本相关                      |
| **执行顺序**           | 在配置层次结构中按时间戳顺序应用                            |
