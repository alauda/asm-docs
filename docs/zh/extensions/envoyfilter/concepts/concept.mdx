---
weight: 10
sourceSHA: b05c35de3a2097fac93d51d3f7775549b99a292b6d51d61f797ae44cc3cdd380
---

# 核心概念

## Envoy 代理

Envoy 是一个高性能的开源边缘和服务代理，专为云原生应用设计。在 Istio 服务网格中，Envoy 代理构成了处理所有服务间通信的数据平面。网格中的每个工作负载都配备了一个旁路 Envoy 代理，以调解入站和出站流量，并实现以下关键功能：

- 流量路由和负载均衡
- 服务发现
- TLS终止
- 健康检查
- 高级功能，如熔断和重试

Envoy 的动态配置能力使 Istio 的控制平面（istiod）能够在不重新启动工作负载的情况下向代理推送更新。这种架构允许 Istio 在保持高性能的同时，实现服务网格功能。

**示例配置流程**：

1. Istiod 根据 Kubernetes 服务和 Istio 自定义资源生成 Envoy 配置
2. Envoy 代理通过 xDS API 获取配置
3. 代理动态应用新配置以处理流量策略

## EnvoyFilter 资源

`EnvoyFilter` API 资源为 Istio 中的 Envoy 代理配置提供了细粒度控制。它允许高级用户修改未通过标准 Istio API 暴露的低级 Envoy 设置。

**主要特征**

| 特性                  | 描述                                                             |
|----------------------|------------------------------------------------------------------|
| **工作负载定位**     | 适用于使用标签选择器的特定工作负载                               |
| **附加更改**         | 修改将层叠在 Istio 生成的配置之上                                 |
| **版本敏感性**       | 与 Istio 使用的特定 Envoy 代理版本相关联                         |
| **执行顺序**         | 在配置层级内按照时间戳顺序应用                                   |
