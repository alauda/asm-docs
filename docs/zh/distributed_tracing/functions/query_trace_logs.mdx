---
weight: 20
sourceSHA: de66a72c4508a24cb426bfb22f1510bd38f10c6d85bde12b04f42f3634832da1
---

# 查询追踪日志

## 功能概述

追踪日志使用户能够使用唯一的追踪 ID 查询和分析与特定分布式追踪相关的日志。此功能帮助开发人员和运维人员快速定位问题，理解请求流，并将业务日志与追踪上下文关联。

**主要优点**：

- **根本原因分析**：识别分布式系统中微服务的错误和延迟问题。
- **上下文关联**：将业务日志链接到追踪跨度，以实现端到端的可视化。
- **高效过滤**：按 Pods 或追踪 ID 过滤日志，以关注相关数据。

**适用场景**：

- 调试跨服务的事务失败。
- 分析复杂工作流中的性能瓶颈。
- 审计请求处理流程以确保合规。

## 核心功能

- **基于 TraceID 的查询**：使用特定追踪的 TraceID 检索所有相关日志。
- **以 Pod 为中心的过滤**：查看参与追踪的特定 Pods 中的日志。
- **旁路日志排除**：过滤掉基础设施日志，以关注与业务相关的数据。
- **日志导出**：以可自定义的格式导出过滤后的日志数据。
- **上下文日志查看**：检查目标条目前后几条日志记录，以进行更深入的分析。

## 前提条件

:::tip
在通过 TraceID 查询追踪日志之前，您必须先对服务进行工具配置，以便在业务日志中包含 TraceID。请遵循 [业务日志与 TraceID 关联指南](../how_to/log_with_traceid.md) 获取配置细节。
:::

**默认行为**：

- 显示整个追踪持续时间的日志。
- 对于短于 1 分钟的追踪，在追踪开始时间后 1 分钟内查询日志。

## 日志查询操作

<Steps>
  ### 访问追踪日志

  1. 查询追踪后，点击特定的追踪以查看其详细信息。
  2. 在追踪可视化面板中点击 **查看日志** 选项卡。

  ### 过滤日志

  #### 按 Pod 名称

  在 **Pod 名称** 选择器中，从参与服务列表中选择目标 Pod。

  #### 按时间范围

  在 **时间范围** 选择器中，选择目标时间范围。

  #### 按查询条件

  在 **查询条件** 文本框中输入关键词，以根据特定内容过滤日志。

  #### 包含追踪 ID

  选择 **包含追踪 ID** 复选框。

  #### 隐藏旁路日志

  选中 **隐藏旁路日志** 以排除与基础设施相关的条目。

  ### 高级操作

  #### 导出日志

  1. 点击 **导出**。
  2. 使用列复选框选择要包含的字段。
  3. 选择导出格式 (JSON/CSV)。

  #### 自定义显示字段

  点击 **设置**。
  切换显示面板中日志字段的可见性。

  #### 查看日志上下文

  1. 点击任何日志条目旁的 **洞察**。
  2. 查看目标时间戳前后 5 条日志。
  3. 使用鼠标上下滚动以加载更多日志。
</Steps>
