---
weight: 10
sourceSHA: 7f5d308f93dfe2120240f19a015cc987c65097640bd14840e3ef232b418fcae6
---

# 引言

分布式追踪是可观察性系统中的关键模块，用于实现对分布式系统的端到端追踪和分析。该模块提供了从数据采集、存储到可视化分析的完整解决方案，帮助开发人员和运维人员快速定位服务调用异常，分析性能瓶颈，并追踪请求的整个生命周期行为。

通过与开源技术栈和自研组件的集成，该模块支持端到端的分布式追踪能力：应用程序通过注入或 SDK 集成的方法生成追踪数据，这些数据随后在 Elasticsearch 中统一收集和存储，最终通过定制的 UI 实现多维度的可视化分析。用户可以使用 `TraceID`、服务名称、标签等丰富的条件进行精确搜索。

## 优势

追踪的核心优势如下：

- **端到端追踪能力**\
  支持跨服务、进程和容器边界的完整追踪恢复，准确呈现微服务架构中复杂的调用关系。

- **灵活的数据采集方法**\
  支持基于服务网格的自动追踪，通过 Istio 的边车代理注入，在不修改代码的情况下捕获服务间通信数据。此外，还提供了 OpenTelemetry 的自动注入（无需代码修改）和 SDK 集成的双模式，兼容 Java/Python/Go 等主流语言应用。

- **高性能存储解决方案**\
  采用 Elasticsearch 作为存储后端，支持海量跨度数据的写入和快速检索。

- **灵活的查询和分析能力**\
  自研 UI 与 `jaeger-query` API 集成，支持基于 TraceID、服务归属、标签和跨度类型等多维度条件的灵活查询，帮助用户快速找出问题的根本原因。

## 应用场景

追踪的主要应用场景如下：

- **分布式系统故障诊断**\
  在微服务架构中，完整追踪能够快速识别服务故障和异常调用，缩短故障诊断时间。

- **性能瓶颈分析**\
  通过检查服务调用之间的延迟，可以识别性能瓶颈，从而指导系统优化和资源调整。

- **服务依赖分析**\
  时间序列瀑布图清晰展示了服务之间的调用路径和依赖关系，帮助架构师进行系统设计和改进。

## 使用限制

使用追踪时，应注意以下限制：

- **平衡采样策略与性能**
  - 在高负载场景下，追踪数据的采集可能会对 Elasticsearch 的性能和存储造成一定压力；建议根据业务情况合理配置采样率。
