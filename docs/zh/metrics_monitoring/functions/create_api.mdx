---
weight: 30
sourceSHA: 9c0763f75d97f17c18db7fb3075dce75f317770b418cb5602ab60b7b0ce0e0f4
---

# 为 Istio 微服务导入 API

本文档旨在帮助您快速声明微服务的 API，以更有效地监控和管理您的 API。

## 选择服务

在左侧导航栏中，点击 **服务列表**，输入您想要声明 API 的服务。

## 声明服务的 API

导航到 **API** 标签页。

声明服务 API 有两种方式：

- **批量导入 API** - 通过导入符合 Swagger 规范的 API 描述文件来声明服务的 API。
- **手动导入 API** - 当需要向 API 列表添加少量 API 时，您可以在平台上手动添加服务的 API。

### 批量导入 API

通过上传支持 Swagger 规范的 API 描述文件（`.yaml` 或 `.json` 文件），或者输入符合 OpenAPI 3.0 规范的 API 文档 URL 来批量导入 API。

**注意**：

- 批量导入 API 时，API 列表中通过批量导入在 **服务端口** 设置的现有 API 会首先被清除。如果您希望保留现有 API，请手动仅导入所需的新 API。
- 上传的 API 描述文件大小不得超过 5 MB；批量导入的 API 数量不得超过 2000。

**参数说明**

请参考以下说明配置相关参数。

| 参数              | 描述                                                                                                                                                                                                                                                                         |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **服务端口**      | 服务接收 API 请求的监听端口。该端口是服务的内部路由，暴露集群中关联 Deployment 的端口号。<br />当存在多个服务端口时，默认使用第一个服务端口。                                                                                                                             |
| **文件导入**      | 通过上传本地存储中支持 Swagger 规范的文件（`.yaml` 或 `.json` 文件）来批量导入包含在上传文件中的 API。                                                                                                                                                                     |
| **自动加载**      | 通过输入符合 OpenAPI 3.0 规范的在线 API 文档 URL 来批量导入文件中包含的 API。例如：`http://<domain>:<port>/v3/example/api-docs`。                                                                                                                                       |

### 手动导入 API

**参数说明**

请参考以下说明配置相关参数。

| 参数              | 描述                                                                                                                                                                                                                                                                                                                                                                          |
| ----------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **服务端口**      | 服务接收 API 请求的监听端口。该端口是服务的内部路由，暴露集群中关联 Deployment 的端口号。<br />当存在多个服务端口时，默认使用第一个服务端口。                                                                                                                                                                       |
| **API**           | **API 请求路径**：根据所选匹配方法输入请求路径。<br />精确匹配：例如，`/path` 将精确匹配该 API 查询数据；<br />正则匹配：例如，`/path/{param}/path`，其中 `{param}` 是 API 中的变量。<br /><br />**API 请求方法**：单选，支持 GET、PUT、POST、DELETE、PATCH、HEAD、OPTIONS。                                                             |

## 结果和验证

无论您是使用 **批量导入** 还是 **手动导入**，一旦成功声明，您可以在下方的 API 列表中查看已声明的 API。
