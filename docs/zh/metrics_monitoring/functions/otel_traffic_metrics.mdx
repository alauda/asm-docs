---
weight: 20
sourceSHA: 1c5fcdaa75c726ad7c0cdc900a53f543af0d582c4aa4ecb2e9a297e07d407de6
---

# OpenTelemetry 流量指标

该平台提供丰富的流量指标数据，使用户能够从多个维度分析服务流量的质量。

## 服务流量监控

### 查看服务流量质量

**前提条件**

该服务已经注入了 Java Agent，具体实现请参考 [添加服务](../../microservice/add-service.md#add-opentelemetry-service)。

**步骤**

1. 在左侧导航栏中，点击 **监控**。

2. 选择您要查看监控数据的服务和时间范围。

   **注意**：查询的时间范围受 Prometheus 监控数据的保留期限制。例如，如果监控数据的保留期为 7 天，而设定的时间范围为过去 30 天，则统计数据仅会覆盖 7 天。

3. 点击相应的选项卡查看服务的流量监控数据和 JVM 监控数据。

### 常规操作

- **刷新数据**：当前页面的监控统计信息在页面打开时自动刷新一次。如需再次刷新，可以使用以下两种方法：

  - 手动刷新：点击页面右下角的 <img src="../assets/metric_refresh.png" style={{display: "inline", verticalAlign: "middle"}} /> 手动刷新数据。

  - 设置自动刷新（默认关闭）：点击 <img src="../assets/metric_auto_refresh.png" style={{display: "inline", verticalAlign: "middle"}} /> 设置数据自动刷新的间隔。

- **查看/设置图例**：点击图表右上角的 <img src="../assets/legend.png" style={{display: "inline", verticalAlign: "middle"}} /> 扩展监控图表中的图例。点击图例可隐藏/显示图表中的相应曲线。

- **查看大图监控图表**：点击图表右上角的 <img src="../assets/big_chart.png" style={{display: "inline", verticalAlign: "middle"}} /> 可在弹出对话框中查看放大后的、更详细的监控图表。

### 监控数据说明

| 监控指标                          | 描述                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **平均响应时间**                  | 查询时间范围内的平均响应时间（总响应时间/总响应次数）。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **平均进/出 RPS**                 | 查询时间范围内的进/出 RPS（每秒请求数）的平均值。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **响应时间**                      | 服务间或服务内部的响应时间，显示为平均值、TP 50、TP 95、TP 99。<br />TP（顶级百分比） xx 表示 xx 百分之网络请求所需的最小持续时间，通常用于系统性能监测场景。<br />将鼠标悬停在曲线上可以查看特定时间段的响应时间。                                                                                                                                                                                                                                                                                                                                                                            |
| **进/出 RPS**                     | 查询时间范围内的总进/出流量 RPS 和错误进/出流量 RPS。<br />**RPS = 查询时间内的请求数 / 查询持续时间（秒）**。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **进/出流量**                      | 查询时间范围内的总进/出请求量，以及按 HTTP 返回码分的流量比例（正常/2xx, 3xx, 4xx, 5xx）。<br />将鼠标悬停在柱状图上可以查看每个类别的流量比例。                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **客户端流量对比**                | **客户端**是指向当前服务（上游服务）发起请求的客户端服务（下游服务）。**客户端流量对比**将比较和展示不同客户端调用当前服务时的 **响应时间**、**进 RPS** 和进 **RPS 错误率**（错误 RPS/RPS）。<br /><br />**说明**：<br />- **未知客户端** 指的是在服务网格中调用当前服务的客户端集合（HTTP 协议），其流量并未由 OpenTelemetry 管理。<br />- 如果客户端属于当前命名空间，点击客户端名称旁边的 **Trace** 将重定向到追踪页面。 |
