---
weight: 20
sourceSHA: 2d83ff26103f8bf1105a4c422dd64df78594284403666c2a1b5c1c92098760af
---

# 引言

## 服务路由

服务路由通过 Istio 驱动的规则和策略，实现对服务之间的细粒度流量管理。该功能：

- 控制微服务之间的请求流
- 支持金丝雀测试和分阶段发布
- 实现故障恢复机制
- 提供非侵入式测试功能

核心价值：微服务架构的精确流量控制

## 优势

- ​**协议支持**：HTTP/HTTP2/gRPC & TCP
- ​**条件路由**：基于头部/URI/源的匹配
- ​**高级策略**：5级流量处理
- ​**跨集群**：原生多集群管理

## 适用场景

- ​**分阶段发布**
  将 5% 的流量引导至新版本进行验证

- ​**用户分段**
  将优质用户导向高性能实例

- ​**故障测试**
  在 10% 的生产流量中注入 500 错误

- ​**性能优化**
  将流量镜像到预发布环境进行负载测试

- ​**地理路由**
  根据客户端区域标签引导请求

## 限制

- 需要启用跨集群发现
- 与正在进行的金丝雀发布不兼容
- TCP 路由缺乏高级策略
- 每个请求最多 100 次重试
