---
weight: 10
---

# Create an EnvoyFilter

EnvoyFilter provides a mechanism to customize the Envoy configuration generated by Istio Pilot. By creating an EnvoyFilter on the platform and binding it to services in the cluster, you can distribute custom capabilities to services under the service mesh through EnvoyFilter.

:::danger Deprecation Notice

**Why Deprecate?**

EnvoyFilter is a high-risk feature that can impact business operations. Due to its tight coupling with the underlying Envoy API, backward compatibility cannot be guaranteed. Additionally, EnvoyFilter patches are highly sensitive to the Envoy configuration format generated by Istio. Any changes in Istio's configuration could break applications using EnvoyFilter. Therefore, the product will deprecate the EnvoyFilter feature in upcoming versions.

**Product Support Strategy**

The purpose of deprecating EnvoyFilter is to prevent customers from independently writing and maintaining EnvoyFilters, thus reducing the risk of compatibility issues. If customers have requirements that can be addressed through EnvoyFilter, they should contact the product development team. The development team will provide the necessary solutions and ensure that any compatibility issues with EnvoyFilter are resolved.

:::

## Procedure

When creating an EnvoyFilter, you can add EnvoyFilter resources for different compatible versions of Istio supported by the service mesh in the current project, so that one EnvoyFilter can be compatible with multiple Istio versions.

1. In the left navigation bar, click **Service Mesh** > **EnvoyFilter**.

2. (Optional) Click **Service Mesh** in the top navigation bar to switch.

3. Click on **Create EnvoyFilter**.

4. Refer to the following instructions to configure the relevant parameters.

| Parameter | Description |
| ------ | -------- |
| **Cluster of clusters** | A cluster managed by the service mesh, where a successfully created EnvoyFilter can only distribute capabilities to services running on the selected cluster. |
| **Configuration information** | The struct information of the EnvoyFilter supported by the adaptation platform for the Istio version. The struct of EnvoyFilter varies with different versions of Istio. Please refer to the [official documentation](https://istio.io/latest/docs/reference/config/networking/envoy-filter/) for writing. <br />**Note**: When upgrading the Istio version of the service mesh, in order to avoid affecting normal business operations, please create an EnvoyFilter that is compatible with the higher version of Istio before the upgrade. After the upgrade, the service will automatically bind to the EnvoyFilter compatible with the upgraded version. |

8. After confirming the information is correct, click **Create**.

## What's next

After the successful creation of EnvoyFilter, the capabilities of this EnvoyFilter can be distributed to the services in the service mesh by [binding the service](./bind_a_service.mdx).
